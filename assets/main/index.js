System.register("chunks:///_virtual/Bang.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(t){var e,n,r,i,o,a,c,l;return{setters:[function(t){e=t.applyDecoratedDescriptor,n=t.inheritsLoose,r=t.initializerDefineProperty,i=t.assertThisInitialized},function(t){o=t.cclegacy,a=t._decorator,c=t.Label,l=t.Component}],execute:function(){var s,u,p,f,g;o._RF.push({},"c6b56i0YrNDvJK03nPWKWO5","Bang",void 0);var y=a.ccclass,h=a.property;t("Bang",(s=y("Bang"),u=h(c),s((g=e((f=function(t){function e(){for(var e,n=arguments.length,o=new Array(n),a=0;a<n;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o))||this,r(e,"title",g,i(e)),e.index=0,e}return n(e,t),e.prototype.SetTitle=function(t){this.title.string=t.toString()},e}(l)).prototype,"title",[u],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),p=f))||p));o._RF.pop()}}}));

System.register("chunks:///_virtual/Bullet.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var i,t,o,n,r,l,c,s,a,d,u,p;return{setters:[function(e){i=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,n=e.assertThisInitialized},function(e){r=e.cclegacy,l=e._decorator,c=e.CircleCollider2D,s=e.RigidBody2D,a=e.Vec2,d=e.Vec3,u=e.UIOpacity,p=e.Component}],execute:function(){var h,y,g,f,b,B,v;r._RF.push({},"e75bdcOyglL1bKjb82Kr/4s","Bullet",void 0);var m=l.ccclass,C=l.property;e("Bullet",(h=m("Bullet"),y=C(c),g=C(s),h((B=i((b=function(e){function i(){for(var i,t=arguments.length,r=new Array(t),l=0;l<t;l++)r[l]=arguments[l];return i=e.call.apply(e,[this].concat(r))||this,o(i,"collider",B,n(i)),o(i,"rigidBody",v,n(i)),i.speed=50,i.isMove=!1,i}t(i,e);var r=i.prototype;return r.start=function(){this.collider=this.node.getComponent(c),this.rigidBody=this.node.getComponent(s),this.collider.enabled=!1,this.rigidBody.enabled=!1},r.update=function(e){1==this.isMove&&(this.rigidBody.linearVelocity=new a(1*this.speed,0))},r.Move=function(){this.node.translate(new d(100,0,0)),this.node.getComponent(u).opacity=255,this.collider.enabled=!0,this.rigidBody.enabled=!0,this.isMove=!0},i}(p)).prototype,"collider",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=i(b.prototype,"rigidBody",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),f=b))||f));r._RF.pop()}}}));

System.register("chunks:///_virtual/GameplayCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Lane.ts","./MiniGame.ts","./StarCtrl.ts"],(function(e){var t,n,i,r,a,o,s,m,u,l,c,h,p,S,w,d,f;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,i=e.initializerDefineProperty,r=e.assertThisInitialized},function(e){a=e.cclegacy,o=e._decorator,s=e.Node,m=e.Label,u=e.PhysicsSystem2D,l=e.UITransform,c=e.randomRangeInt,h=e.screen,p=e.Size,S=e.Component},function(e){w=e.Lane},function(e){d=e.MiniGame},function(e){f=e.StarCtrl}],execute:function(){var b,g,y,M,z,v,C,N,L,D;a._RF.push({},"f41a2V8/t9HyoaK787Q6rwO","GameplayCtrl",void 0);var T=o.ccclass,G=o.property;e("GameplayCtrl",(b=T("GameplayCtrl"),g=G(s),y=G(m),M=G(s),b(((D=function(e){function t(){for(var t,n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return t=e.call.apply(e,[this].concat(a))||this,i(t,"layerBullet",C,r(t)),i(t,"time",N,r(t)),i(t,"ui",L,r(t)),t.lanes=[],t.version=1,t.minigame=null,t.numberSpawmMonster=1,t.countMontenSpawn=0,t.timeSpawn=10,t.endgame=!1,t.timeNumber=60,t.diem=0,t}n(t,e);var a=t.prototype;return a.onLoad=function(){t.instance=this,u.instance.fixedTimeStep=1/120},a.start=function(){this.lanes=this.node.getComponentsInChildren(w),this.minigame=d.MiniGame1,this.SetTime(),this.SpawnMonster()},a.update=function(e){this.timeSpawn-=e,this.timeSpawn<0&&0==this.endgame&&this.SpawnMonster(),this.ui.getComponent(l).setContentSize(this.getSizeWindow())},a.SpawnMonster=function(){var e=this;this.countMontenSpawn+=this.numberSpawmMonster;for(var t=0;t<this.numberSpawmMonster;t++)this.scheduleOnce((function(){e.timeSpawn=10,e.lanes[c(0,e.lanes.length)].SpawnMonster()}),2*t)},a.SetTime=function(){var e=this;this.SetTimeLbl(this.timeNumber),this.schedule((function(){e.timeNumber--,e.SetTimeLbl(e.timeNumber),e.timeNumber<40&&e.timeNumber>20&&(e.numberSpawmMonster=2),e.timeNumber<=20&&(e.numberSpawmMonster=3),0==e.timeNumber&&0==e.endgame&&(e.endgame=!0,e.unscheduleAllCallbacks(),e.ShowStar())}),1)},a.SetTimeLbl=function(e){this.time.string=e>=10?"00:"+e:"00:0"+e},a.getSizeWindow=function(){var e=0,t=0,n=h.windowSize.width/1366,i=h.windowSize.height/1024;return n>i?(t=h.windowSize.width/i,e=1024):(e=h.windowSize.height/n,t=1366),new p(t,e)},a.AddScore=function(){this.diem++},a.ShowStar=function(){this.diem>8?f.instance.SetDiem(3):this.diem>4?f.instance.SetDiem(2):this.diem>1?f.instance.SetDiem(1):f.instance.SetDiem(0),f.instance.showNode()},t}(S)).instance=null,C=t((v=D).prototype,"layerBullet",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),N=t(v.prototype,"time",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=t(v.prototype,"ui",[M],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),z=v))||z));a._RF.pop()}}}));

System.register("chunks:///_virtual/ItemBoard.ts",["./rollupPluginModLoBabelHelpers.js","cc","./GameplayCtrl.ts","./Bullet.ts"],(function(e){var t,n,o,i,r,s,a,l,c,u,h,d,p,m,v,f,y;return{setters:[function(e){t=e.applyDecoratedDescriptor,n=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,s=e._decorator,a=e.CCInteger,l=e.Prefab,c=e.Input,u=e.instantiate,h=e.UITransform,d=e.Vec3,p=e.UIOpacity,m=e.tween,v=e.Component},function(e){f=e.GameplayCtrl},function(e){y=e.Bullet}],execute:function(){var g,C,T,b,M,I,w,N,x;r._RF.push({},"a42dbC+g1ZGfL9MvY9sA5xP","ItemBoard",void 0);var B=s.ccclass,P=s.property;e("ItemBoard",(g=B("ItemBoard"),C=P(a),T=P(l),b=P(l),g((w=t((I=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return t=e.call.apply(e,[this].concat(r))||this,o(t,"index",w,i(t)),o(t,"bullet",N,i(t)),t.items=null,o(t,"bulletDemo",x,i(t)),t.itemMove=null,t}n(t,e);var r=t.prototype;return r.start=function(){this.items=this.node.getChildByName("item"),this.node.on(c.EventType.TOUCH_START,this.touchStart,this),this.node.on(c.EventType.TOUCH_MOVE,this.TouchMove,this),this.node.on(c.EventType.TOUCH_END,this.TouchEnd,this),this.node.on(c.EventType.TOUCH_CANCEL,this.TouchEnd,this)},r.touchStart=function(e){if(null==this.itemMove){this.itemMove=u(this.bulletDemo),f.instance.node.addChild(this.itemMove);var t=e.getUILocation(),n=this.itemMove.parent.getComponent(h).convertToNodeSpaceAR(new d(t.x,t.y,0));this.itemMove.setPosition(n)}},r.TouchMove=function(e){var t=e.getUILocation(),n=this.itemMove.parent.getComponent(h).convertToNodeSpaceAR(new d(t.x,t.y,0));this.itemMove.setPosition(n)},r.TouchEnd=function(){var e=this;if(1!=f.instance.endgame){for(var t=null,n=0;n<3;n++)1==this.IsNodeInsideTarget(this.itemMove,f.instance.lanes[n].node)&&(t=f.instance.lanes[n]);if(null!=t){var o=0;console.log(o,t.monsterNode);!function n(){t.monsterNode.length>o&&(0==t.monsterNode[o].isChoose?t.monsterNode[o].type.index==e.index&&(t.monsterNode[o].isChoose=!0,f.instance.timeSpawn=10,e.SpawnBullet(t)):(o++,n()))}()}this.itemMove&&this.itemMove.destroy(),this.itemMove=null}},r.SpawnBullet=function(e){for(var t=this,n=function(){var n=u(t.bullet);f.instance.layerBullet.addChild(n),n.setWorldPosition(t.items.worldPosition),n.getComponent(p).opacity=0,t.scheduleOnce((function(){n.getComponent(p).opacity=150,m(n).to(.5,{worldPosition:e.phao.worldPosition}).call((function(){n.getComponent(p).opacity=0,n.getComponent(y).Move()})).start()}),.2*o)},o=0;o<this.index;o++)n()},r.IsNodeInsideTarget=function(e,t){var n=t.getComponent(h),o=e.getWorldPosition(),i=n.convertToNodeSpaceAR(o),r=n.width/2,s=n.height/2;return i.x>=-r&&i.x<=r&&i.y>=-s&&i.y<=s},t}(v)).prototype,"index",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),N=t(I.prototype,"bullet",[T],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),x=t(I.prototype,"bulletDemo",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=I))||M));r._RF.pop()}}}));

System.register("chunks:///_virtual/Lane.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Monster.ts"],(function(e){var n,t,o,i,r,a,s,c,l,u,h,p,m,d;return{setters:[function(e){n=e.applyDecoratedDescriptor,t=e.inheritsLoose,o=e.initializerDefineProperty,i=e.assertThisInitialized},function(e){r=e.cclegacy,a=e._decorator,s=e.Node,c=e.sp,l=e.Prefab,u=e.instantiate,h=e.randomRangeInt,p=e.Vec3,m=e.Component},function(e){d=e.Monster}],execute:function(){var f,g,y,b,w,N,v,M,_,A,L;r._RF.push({},"25c5ewJAfJN5aIKm3+fqAOg","Lane",void 0);var z=a.ccclass,P=a.property;e("Lane",(f=z("Lane"),g=P(s),y=P(c.Skeleton),b=P(s),w=P(l),f((M=n((v=function(e){function n(){for(var n,t=arguments.length,r=new Array(t),a=0;a<t;a++)r[a]=arguments[a];return n=e.call.apply(e,[this].concat(r))||this,o(n,"phao",M,i(n)),o(n,"chacracer",_,i(n)),o(n,"spawnMonsterNode",A,i(n)),o(n,"monsters",L,i(n)),n.monsterNode=[],n}t(n,e);var r=n.prototype;return r.start=function(){this.phao=this.node.getChildByName("phao"),this.PlayGame()},r.SpawnMonster=function(){var e=u(this.monsters[h(0,this.monsters.length)]);this.node.addChild(e),this.monsterNode.push(e.getComponent(d)),e.setPosition(new p(this.spawnMonsterNode.position.x+120*this.monsterNode.length,this.spawnMonsterNode.position.y,0))},r.RemoveMonser=function(){this.monsterNode.length>0&&this.monsterNode.splice(0,1)},r.PlayGame=function(){this.chacracer.setAnimation(0,"vui_mung",!1),this.chacracer.addAnimation(0,"idle",!0)},r.playSo=function(){this.chacracer.setAnimation(0,"so_hai_2",!1)},r.playLoLang=function(){this.chacracer.setAnimation(0,"lo_lang",!1),this.chacracer.addAnimation(0,"so_hai",!0)},n}(m)).prototype,"phao",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),_=n(v.prototype,"chacracer",[y],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),A=n(v.prototype,"spawnMonsterNode",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),L=n(v.prototype,"monsters",[w],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),N=v))||N));r._RF.pop()}}}));

System.register("chunks:///_virtual/main",["./SoundManager.ts","./StarCtrl.ts","./Bang.ts","./Bullet.ts","./GameplayCtrl.ts","./ItemBoard.ts","./Lane.ts","./MiniGame.ts","./Monster.ts"],(function(){return{setters:[null,null,null,null,null,null,null,null,null],execute:function(){}}}));

System.register("chunks:///_virtual/MiniGame.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(e){var n,i,t,r;return{setters:[function(e){n=e.inheritsLoose},function(e){i=e.cclegacy,t=e._decorator,r=e.Component}],execute:function(){var o,c;i._RF.push({},"31c64zt3S5KxoCzW1+HWCbr","MiniGame",void 0);var s=t.ccclass;t.property,e("MiniGame",s("MiniGame")(((c=function(e){function i(){return e.apply(this,arguments)||this}return n(i,e),i}(r)).MiniGame1=[{index:1},{index:2},{index:3},{index:4},{index:5}],o=c))||o);i._RF.pop()}}}));

System.register("chunks:///_virtual/Monster.ts",["./rollupPluginModLoBabelHelpers.js","cc","./Bang.ts","./GameplayCtrl.ts","./Lane.ts"],(function(n){var e,t,i,o,a,r,l,s,c,d,p,u,h,m,g,y;return{setters:[function(n){e=n.applyDecoratedDescriptor,t=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,l=n.BoxCollider2D,s=n.RigidBody2D,c=n.sp,d=n.Contact2DType,p=n.randomRangeInt,u=n.Vec2,h=n.Component},function(n){m=n.Bang},function(n){g=n.GameplayCtrl},function(n){y=n.Lane}],execute:function(){var f,S,b,C,k,A,B,w,D,M,v;a._RF.push({},"b9d0fAKM1xOHoqV14OyzBDU","Monster",void 0);var x=r.ccclass,L=r.property;n("Monster",(f=x("Monster"),S=L(l),b=L(s),C=L(m),k=L(c.Skeleton),f((w=e((B=function(n){function e(){for(var e,t=arguments.length,a=new Array(t),r=0;r<t;r++)a[r]=arguments[r];return e=n.call.apply(n,[this].concat(a))||this,i(e,"collider",w,o(e)),i(e,"rigidBody",D,o(e)),i(e,"bang",M,o(e)),i(e,"monterSkeleton",v,o(e)),e.speed=-1,e.index=0,e.type=null,e.isChoose=!1,e}t(e,n);var a=e.prototype;return a.start=function(){this.monterSkeleton=this.node.getComponentInChildren(c.Skeleton),this.bang=this.node.getComponentInChildren(m),this.collider=this.node.getComponent(l),this.rigidBody=this.node.getComponent(s),this.collider.on(d.BEGIN_CONTACT,this.onBeginContact,this),this.type=g.instance.minigame[p(0,g.instance.minigame.length)],this.bang.SetTitle(this.type.index),this.index=this.type.index,this.speed=-(2*Math.random()+2),this.PlayRun(),this.ListernerAnimationSp()},a.update=function(n){this.rigidBody.linearVelocity=new u(1*this.speed,0)},a.onBeginContact=function(n,e,t){var i=this;this.scheduleOnce((function(){1==e.tag&&(i.index--,i.bang.SetTitle(i.index),e.node.destroy(),0==i.index&&(i.node.parent.getComponent(y).PlayGame(),g.instance.AddScore(),i.node.parent.getComponent(y).RemoveMonser(),g.instance.timeSpawn=10,g.instance.countMontenSpawn--,0==g.instance.countMontenSpawn&&g.instance.SpawnMonster(),i.PlayDie())),10==e.tag&&(i.PlayAttack(),i.node.parent.getComponent(y).playSo()),9==e.tag&&i.node.parent.getComponent(y).playLoLang()}),.01)},a.PlayRun=function(){this.monterSkeleton.setAnimation(0,"Run",!0)},a.PlayDie=function(){this.collider.enabled=!1,this.rigidBody.enabled=!1,this.monterSkeleton.setAnimation(0,"Die",!1)},a.PlayAttack=function(){this.monterSkeleton.setAnimation(0,"Attack",!1)},a.ListernerAnimationSp=function(){var n=this;this.monterSkeleton.setCompleteListener((function(e){"Die"==e.animation.name&&n.node.destroy(),"Attack"==e.animation.name&&(console.log("Attack"),0==g.instance.endgame&&(g.instance.endgame=!0,g.instance.ShowStar()))}))},e}(h)).prototype,"collider",[S],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),D=e(B.prototype,"rigidBody",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),M=e(B.prototype,"bang",[C],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),v=e(B.prototype,"monterSkeleton",[k],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),A=B))||A));a._RF.pop()}}}));

System.register("chunks:///_virtual/SoundManager.ts",["./rollupPluginModLoBabelHelpers.js","cc"],(function(n){var e,i,t,r,o,a,u,l,c;return{setters:[function(n){e=n.applyDecoratedDescriptor,i=n.inheritsLoose,t=n.initializerDefineProperty,r=n.assertThisInitialized},function(n){o=n.cclegacy,a=n._decorator,u=n.AudioSource,l=n.AudioClip,c=n.Component}],execute:function(){var s,p,d,f,g,y,h,m,b,S;o._RF.push({},"67f65S9g4NP37ZdgmmLBncW","SoundManager",void 0);var v=a.ccclass,_=a.property;n("SoundManager",(s=v("SoundManager"),p=_(u),d=_(l),f=_(l),s(((S=function(n){function e(){for(var e,i=arguments.length,o=new Array(i),a=0;a<i;a++)o[a]=arguments[a];return e=n.call.apply(n,[this].concat(o))||this,t(e,"audio",h,r(e)),t(e,"sao",m,r(e)),t(e,"Endgame",b,r(e)),e}i(e,n);var o=e.prototype;return o.__preload=function(){e.instance=this},o.playSao=function(){this.audio.playOneShot(this.sao,.5)},o.playEndgame=function(){this.audio.playOneShot(this.Endgame,.5)},e}(c)).instance=void 0,h=e((y=S).prototype,"audio",[p],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),m=e(y.prototype,"sao",[d],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),b=e(y.prototype,"Endgame",[f],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),g=y))||g));o._RF.pop()}}}));

System.register("chunks:///_virtual/StarCtrl.ts",["./rollupPluginModLoBabelHelpers.js","cc","./SoundManager.ts"],(function(n){var t,e,i,o,a,r,c,l,s,u,f,d;return{setters:[function(n){t=n.applyDecoratedDescriptor,e=n.inheritsLoose,i=n.initializerDefineProperty,o=n.assertThisInitialized},function(n){a=n.cclegacy,r=n._decorator,c=n.Node,l=n.tween,s=n.Vec3,u=n.Animation,f=n.Component},function(n){d=n.SoundManager}],execute:function(){var p,h,b,g,S,m,y,v,w,C;a._RF.push({},"66c26VKi6dFdZP42VJLPg7G","StarCtrl",void 0);var A=r.ccclass,N=r.property;n("StarCtrl",(p=A("StarCtrl"),h=N(c),b=N(c),g=N(c),p(((C=function(n){function t(){for(var t,e=arguments.length,a=new Array(e),r=0;r<e;r++)a[r]=arguments[r];return t=n.call.apply(n,[this].concat(a))||this,i(t,"nodetinhsao",y,o(t)),i(t,"board",v,o(t)),i(t,"stars",w,o(t)),t.diem=0,t}e(t,n);var a=t.prototype;return a.__preload=function(){null==t.instance&&(t.instance=this)},a.start=function(){},a.showNode=function(){var n=this;this.node.setSiblingIndex(99),d.instance.playEndgame(),this.nodetinhsao.active=!0,l(this.nodetinhsao).to(.5,{scale:new s(.4,.4,1)}).call((function(){l(n.board).to(.5,{scale:new s(1,1,1)}).call((function(){n.ShowStars()})).start()})).start()},a.btnReset=function(){d.instance=null,t.instance=null},a.btnBackGame=function(){console.log("[ACTION]: BACK")},a.btnNextGame=function(){console.log("[ACTION]: NEXTGAME")},a.btnListgame=function(){console.log("[ACTION]: SHOWLISTGAME")},a.ShowStars=function(){var n=this;this.stars.forEach((function(t,e){e<n.diem&&n.scheduleOnce((function(){l(t).to(.2,{scale:new s(1,1,1)}).call((function(){t.getComponent(u).play("scale"),d.instance.playSao()})).start()}),.2*e)}))},a.SetDiem=function(n){this.diem=n},t}(f)).instance=void 0,y=t((m=C).prototype,"nodetinhsao",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),v=t(m.prototype,"board",[b],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),w=t(m.prototype,"stars",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),S=m))||S));a._RF.pop()}}}));

(function(r) {
  r('virtual:///prerequisite-imports/main', 'chunks:///_virtual/main'); 
})(function(mid, cid) {
    System.register(mid, [cid], function (_export, _context) {
    return {
        setters: [function(_m) {
            var _exportObj = {};

            for (var _key in _m) {
              if (_key !== "default" && _key !== "__esModule") _exportObj[_key] = _m[_key];
            }
      
            _export(_exportObj);
        }],
        execute: function () { }
    };
    });
});